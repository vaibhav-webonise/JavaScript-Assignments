<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>This is the second assignment of javascript in webonise</title>
        <script>
            function getOccurrences() {
                let inputFromUser = document.getElementById('inputString').value;
                let splitInput = inputFromUser.split(',');
                let countOccurrence = 0;
                let mapForDistinctKeys = new Map();
                let flag = true;

                for (let indexOne = 0; indexOne < splitInput.length; indexOne++) {
                    for (let indexTwo = 0; indexTwo < splitInput.length; indexTwo++) {
                        if (splitInput[indexOne] === splitInput[indexTwo]) {
                            countOccurrence++;
                        }
                    }
                    if (isNaN(splitInput[indexOne])) {
                        flag = false;
                    } else {
                        mapForDistinctKeys.set(splitInput[indexOne], countOccurrence);
                        countOccurrence = 0;
                    }
                }

                let allKeys = [];
                mapForDistinctKeys.forEach(function (value, key) {
                    allKeys.push(key);
                });

                allKeys.sort();
                let sortedMap = new Map();

                for (let i = 0; i < allKeys.length; i++) {
                    sortedMap.set(allKeys[i], mapForDistinctKeys.get(allKeys[i]));
                }

                if (flag === true && allKeys.length > 1) {
                    sortedMap.forEach(function (value, key) {
                        document.write(`</br> ${key}: ${value}`);
                    });
                }
                else {
                    alert('Input should be in proper format..');
                }
            }
        </script>
    </head>
    <body>
        <label for="inputString">Enter numbers separated by commas</label><input type="text" id="inputString">
        <button type="button" onclick="getOccurrences()" id="buttonOne">Get result</button>
    </body>
</html>
